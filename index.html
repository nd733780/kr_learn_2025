<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶€ë¡: ìì£¼ ì“°ì´ëŠ” í•œêµ­ì–´ ë‚±ë§ 850</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC&display=swap">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Noto Sans KR', 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; background: #f8f9fa; color: #202122; }
        .header { background: #fff; border-bottom: 1px solid #a2a9b1; padding: 1rem 2rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .header h1 { font-size: 1.8rem; color: #000; margin-bottom: 0.5rem; }
        .header p { color: #54595d; font-size: 0.95rem; }
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        .intro { background: #fff; padding: 1.5rem; border-radius: 4px; margin-bottom: 2rem; border: 1px solid #a2a9b1; }
        .word-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 1rem; margin-top: 2rem; }
        .word-card { background: #fff; border: 1px solid #a2a9b1; border-radius: 4px; padding: 1rem; cursor: pointer; transition: all 0.2s; position: relative; }
        .word-card:hover { background: #f8f9fa; border-color: #0645ad; transform: translateY(-2px); box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .word-card.selected { box-shadow: 0 0 0 3px rgba(6, 69, 173, 0.3); }
        .word-card.color-green { background: #d4edda; border-color: #28a745; }
        .word-card.color-pink { background: #f8d7da; border-color: #dc3545; }
        .word-rank { font-size: 0.8rem; color: #72777d; margin-bottom: 0.3rem; }
        .word-main { font-size: 1.3rem; font-weight: bold; color: #0645ad; margin-bottom: 0.3rem; }
        .word-chinese { font-size: 0.85rem; color: #54595d; }
        
        /* Floating Menu */
        .floating-menu { position: fixed; right: 30px; top: 50%; transform: translateY(-50%); background: #fff; border: 2px solid #0645ad; border-radius: 8px; padding: 1rem; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 999; }
        .floating-menu h3 { font-size: 0.9rem; margin-bottom: 0.8rem; color: #0645ad; }
        .color-option { width: 40px; height: 40px; border-radius: 50%; margin: 0.5rem 0; cursor: pointer; border: 2px solid #ccc; transition: all 0.2s; }
        .color-option:hover { transform: scale(1.1); border-color: #0645ad; }
        .color-option.default { background: #fff; }
        .color-option.green { background: #d4edda; }
        .color-option.pink { background: #f8d7da; }
        .mode-toggle { margin-top: 1rem; padding: 0.5rem; background: #0645ad; color: #fff; border: none; border-radius: 4px; cursor: pointer; width: 100%; font-size: 0.9rem; }
        .mode-toggle:hover { background: #053d8a; }
        .mode-toggle.view-mode { background: #28a745; }
        
        /* Export Buttons */
        .export-section { margin: 2rem 0; display: flex; flex-wrap: wrap; gap: 1rem; }
        .export-btn { padding: 0.7rem 1.5rem; background: #0645ad; color: #fff; border: none; border-radius: 4px; cursor: pointer; font-size: 0.9rem; }
        .export-btn:hover { background: #053d8a; }
        
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1000; overflow-y: auto; }
        .modal.active { display: flex; align-items: flex-start; justify-content: center; padding: 2rem; }
        .modal-content { background: #fff; max-width: 800px; width: 100%; border-radius: 8px; padding: 2rem; position: relative; margin: 2rem auto; box-shadow: 0 4px 20px rgba(0,0,0,0.3); }
        .close-btn { position: absolute; top: 1rem; right: 1rem; font-size: 2rem; cursor: pointer; color: #72777d; background: none; border: none; width: 40px; height: 40px; line-height: 1; }
        .close-btn:hover { color: #000; }
        .word-detail h2 { color: #000; font-size: 2rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid #0645ad; }
        .phrase-section { margin: 2rem 0; padding: 1.5rem; background: #f8f9fa; border-left: 4px solid #0645ad; border-radius: 4px; }
        .phrase-section h3 { color: #0645ad; font-size: 1.3rem; margin-bottom: 1rem; }
        .quote { background: #fff; padding: 1rem; border-left: 3px solid #72777d; margin: 1rem 0; font-style: italic; color: #54595d; }
        .audio-btn { background: #28a745; color: #fff; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; margin-left: 1rem; }
        .audio-btn:hover { background: #218838; }
        .explanation { margin: 1rem 0; }
        .explanation strong { color: #000; display: block; margin-bottom: 0.5rem; }
        .usage-list { list-style: none; padding-left: 1.5rem; }
        .usage-list li { margin: 0.5rem 0; position: relative; }
        .usage-list li:before { content: "â€¢"; position: absolute; left: -1rem; color: #0645ad; }
        .search-box { margin: 1.5rem 0; padding: 1rem; background: #fff; border: 1px solid #a2a9b1; border-radius: 4px; }
        .search-box input { width: 100%; padding: 0.7rem; font-size: 1rem; border: 1px solid #a2a9b1; border-radius: 4px; }
        .search-box input:focus { outline: none; border-color: #0645ad; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ë¶€ë¡: ìì£¼ ì“°ì´ëŠ” í•œêµ­ì–´ ë‚±ë§ 850</h1>
        <p>í•œêµ­ì–´ í•™ìŠµì„ ìœ„í•œ ê¸°ë³¸ 850ê°œ ë‹¨ì–´ ëª©ë¡ | Korean Basic 850 Words List</p>
    </div>
    
    <div class="floating-menu">
        <h3>å–®å­—æ¨™è¨˜</h3>
        <div class="color-option default" onclick="selectColor('default')" title="é è¨­"></div>
        <div class="color-option green" onclick="selectColor('green')" title="å·²å­¸ç¿’"></div>
        <div class="color-option pink" onclick="selectColor('pink')" title="éœ€è¦è¤‡ç¿’"></div>
        <button class="mode-toggle" onclick="toggleMode()">æ¨™è¨˜æ¨¡å¼</button>
    </div>
    
    <div class="container">
        <div class="intro">
            <h2>ì†Œê°œ</h2>
            <p>ì´ ëª©ë¡ì€ í•œêµ­ì–´ì—ì„œ ê°€ì¥ ìì£¼ ì‚¬ìš©ë˜ëŠ” 850ê°œì˜ ê¸°ë³¸ ë‹¨ì–´ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê° ë‹¨ì–´ë¥¼ í´ë¦­í•˜ë©´ ì‹¤ì œ ëŒ€í™”ì™€ ë¬¸ì¥ì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>
        
        <div class="export-section">
            <button class="export-btn" onclick="exportRange(1, 100)">åŒ¯å‡º 1-100</button>
            <button class="export-btn" onclick="exportRange(101, 200)">åŒ¯å‡º 101-200</button>
            <button class="export-btn" onclick="exportRange(201, 300)">åŒ¯å‡º 201-300</button>
            <button class="export-btn" onclick="exportRange(301, 400)">åŒ¯å‡º 301-400</button>
            <button class="export-btn" onclick="exportRange(401, 500)">åŒ¯å‡º 401-500</button>
            <button class="export-btn" onclick="exportRange(501, 600)">åŒ¯å‡º 501-600</button>
            <button class="export-btn" onclick="exportRange(601, 700)">åŒ¯å‡º 601-700</button>
            <button class="export-btn" onclick="exportRange(701, 800)">åŒ¯å‡º 701-800</button>
            <button class="export-btn" onclick="exportRange(801, 850)">åŒ¯å‡º 801-850</button>
        </div>
        
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="ë‹¨ì–´ ê²€ìƒ‰... (ì˜ˆ: í•˜ë‹¤, ìˆë‹¤, ì‚¬ëŒ)">
        </div>
        <div class="word-grid" id="wordGrid"></div>
    </div>
    
    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal()">&times;</button>
            <div class="word-detail" id="wordDetail"></div>
        </div>
    </div>
    
    <script>
        let colorMode = false;
        let selectedColor = 'default';
        let wordColors = {};
        
        // ===== å®Œæ•´è³‡æ–™å€ (å‰ 10 å€‹å–®å­—) =====
        const COMPLETE_WORDS = [
            {
                rank: 1, word: "ê²ƒ", chinese: "æ±è¥¿/äº‹",
                examples: [
                    {phrase: "~ëŠ” ê²ƒ", quote: "ì¤‘ìš”í•œ ê²ƒì€ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ê²ƒì´ì—ìš”.", meaning: "ëª…ì‚¬í˜• ì–´ë¯¸ë¡œ, ë™ì‘ì´ë‚˜ ìƒíƒœë¥¼ ëª…ì‚¬ì²˜ëŸ¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.", chinese: "åè©åŒ–èªå°¾ï¼Œå°‡å‹•ä½œæˆ–ç‹€æ…‹è®Šæˆåè©æ™‚ä½¿ç”¨", usage: ["ì œê°€ ì¢‹ì•„í•˜ëŠ” ê²ƒì€ ìŒì•…ì´ì—ìš”.", "ê·¸ê²ƒì„ í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›Œìš”."]},
                    {phrase: "ê²ƒ ê°™ë‹¤", quote: "ë¹„ê°€ ì˜¬ ê²ƒ ê°™ì•„ìš”.", meaning: "ì¶”ì¸¡ì´ë‚˜ ë¶ˆí™•ì‹¤í•œ ìƒê°ì„ í‘œí˜„í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í‘œí˜„ì…ë‹ˆë‹¤.", chinese: "è¡¨é”æ¨æ¸¬æˆ–ä¸ç¢ºå®šçš„æƒ³æ³•æ™‚ä½¿ç”¨çš„è¡¨é”æ–¹å¼", usage: ["ê·¸ ì‚¬ëŒ ì•„ëŠ” ê²ƒ ê°™ì•„ìš”.", "ë§›ìˆì„ ê²ƒ ê°™ì€ë°ìš”?"]}
                ]
            },
            {
                rank: 2, word: "í•˜ë‹¤", chinese: "åš",
                examples: [
                    {phrase: "~ì„/ë¥¼ í•˜ë‹¤", quote: "ì˜¤ëŠ˜ ë­ í•´ìš”?", meaning: "ë™ì‘ì´ë‚˜ í–‰ë™ì„ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ë™ì‚¬ì…ë‹ˆë‹¤.", chinese: "è¡¨ç¤ºå‹•ä½œæˆ–è¡Œç‚ºçš„æœ€åŸºæœ¬å‹•è©", usage: ["ìˆ™ì œë¥¼ í•˜ë‹¤", "ìš´ë™ì„ í•˜ë‹¤"]},
                    {phrase: "ì–´ë–»ê²Œ í•˜ë‹¤", quote: "ì´ê±° ì–´ë–»ê²Œ í•´ìš”?", meaning: "ë°©ë²•ì„ ë¬»ê±°ë‚˜ ìƒí™© ì²˜ë¦¬ë¥¼ ë¬¼ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.", chinese: "è©¢å•æ–¹æ³•æˆ–å¦‚ä½•è™•ç†æƒ…æ³æ™‚ä½¿ç”¨", usage: ["ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?", "ê·¸ëŸ¼ ì–´ë–»ê²Œ í•  ê±°ì˜ˆìš”?"]}
                ]
            },
            {
                rank: 3, word: "ìˆë‹¤", chinese: "æœ‰/å­˜åœ¨",
                examples: [
                    {phrase: "~ì´/ê°€ ìˆë‹¤", quote: "ì‹œê°„ ìˆì–´ìš”?", meaning: "ì¡´ì¬ë‚˜ ì†Œìœ ë¥¼ ë‚˜íƒ€ë‚¼ ë•Œ ì‚¬ìš©í•˜ëŠ” ë™ì‚¬ì…ë‹ˆë‹¤.", chinese: "è¡¨ç¤ºå­˜åœ¨æˆ–æ“æœ‰æ™‚ä½¿ç”¨çš„å‹•è©", usage: ["ëˆì´ ìˆì–´ìš”.", "ì§‘ì— ì‚¬ëŒì´ ìˆì–´ìš”."]},
                    {phrase: "~ê³  ìˆë‹¤", quote: "ì§€ê¸ˆ ë­ í•˜ê³  ìˆì–´ìš”?", meaning: "í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ë™ì‘ì„ í‘œí˜„í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.", chinese: "è¡¨é”æ­£åœ¨é€²è¡Œçš„å‹•ä½œæ™‚ä½¿ç”¨", usage: ["ë°¥ ë¨¹ê³  ìˆì–´ìš”.", "ê³µë¶€í•˜ê³  ìˆì–´ìš”."]}
                ]
            },
            {rank: 4, word: "ìˆë‹¤ (ë³´ì¡°ë™ì‚¬)", chinese: "æœ‰(è¼”åŠ©)", examples: [{phrase: "~ê³  ìˆë‹¤", quote: "ê³„ì† ìƒê°í•˜ê³  ìˆì–´ìš”.", meaning: "ë™ì‘ì˜ ì§€ì†ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.", chinese: "è¡¨ç¤ºå‹•ä½œçš„æŒçºŒ", usage: ["ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš”."]}]},
            {rank: 5, word: "ë˜ë‹¤", chinese: "æˆç‚º", examples: [{phrase: "~ì´/ê°€ ë˜ë‹¤", quote: "ì˜ì‚¬ê°€ ë˜ê³  ì‹¶ì–´ìš”.", meaning: "ì–´ë–¤ ìƒíƒœë‚˜ ì‹ ë¶„ìœ¼ë¡œ ë³€í™”í•¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.", chinese: "è¡¨ç¤ºè®ŠæˆæŸç¨®ç‹€æ…‹æˆ–èº«ä»½", usage: ["ì¹œêµ¬ê°€ ëì–´ìš”."]}]},
            {rank: 6, word: "ìˆ˜", chinese: "æ•¸/èƒ½", examples: [{phrase: "~ã„¹ ìˆ˜ ìˆë‹¤", quote: "í•œêµ­ì–´ë¥¼ í•  ìˆ˜ ìˆì–´ìš”.", meaning: "ëŠ¥ë ¥ì´ë‚˜ ê°€ëŠ¥ì„±ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.", chinese: "è¡¨ç¤ºèƒ½åŠ›æˆ–å¯èƒ½æ€§", usage: ["ê°ˆ ìˆ˜ ìˆì–´ìš”."]}]},
            {rank: 7, word: "í•˜ë‹¤", chinese: "åš", examples: [{phrase: "~ì„ í•˜ë‹¤", quote: "ì¼ì„ í•˜ë‹¤", meaning: "ë™ì‘ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.", chinese: "è¡¨ç¤ºå‹•ä½œ", usage: ["ê³µë¶€ë¥¼ í•˜ë‹¤"]}]},
            {rank: 8, word: "ë‚˜", chinese: "æˆ‘", examples: [{phrase: "ë‚˜ëŠ”", quote: "ë‚˜ëŠ” í•™ìƒì´ì—ìš”.", meaning: "ìê¸° ìì‹ ì„ ê°€ë¦¬í‚µë‹ˆë‹¤.", chinese: "æŒ‡ç¨±è‡ªå·±", usage: ["ë‚˜ë„ ê°€ìš”."]}]},
            {rank: 9, word: "ê·¸", chinese: "ä»–/é‚£", examples: [{phrase: "ê·¸ ì‚¬ëŒ", quote: "ê·¸ ì‚¬ëŒ ì–´ë”” ê°”ì–´ìš”?", meaning: "ì•ì—ì„œ ì–¸ê¸‰ëœ ì‚¬ëŒì„ ê°€ë¦¬í‚µë‹ˆë‹¤.", chinese: "æŒ‡ç¨±å‰é¢æåˆ°çš„äºº", usage: ["ê·¸ê²ƒ ì£¼ì„¸ìš”."]}]},
            {rank: 10, word: "ì—†ë‹¤", chinese: "æ²’æœ‰", examples: [{phrase: "~ì´/ê°€ ì—†ë‹¤", quote: "ì‹œê°„ì´ ì—†ì–´ìš”.", meaning: "ë¶€ì¬ë‚˜ ë¶€ì¡±í•¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.", chinese: "è¡¨ç¤ºä¸å­˜åœ¨æˆ–ç¼ºä¹", usage: ["ëˆì´ ì—†ì–´ìš”."]}]}
        ];
        
        // ===== åŸºç¤å–®å­—åˆ—è¡¨ (11-850) =====
        const BASIC_WORD_LIST = [
            {rank: 11, word: "ì•Šë‹¤", chinese: "ä¸"},
            {rank: 12, word: "ì‚¬ëŒ", chinese: "äºº"},
            {rank: 13, word: "ìš°ë¦¬", chinese: "æˆ‘å€‘"},
            {rank: 14, word: "ì´", chinese: "é€™"},
            {rank: 15, word: "ê·¸", chinese: "é‚£"},
            {rank: 16, word: "ì•„ë‹ˆë‹¤", chinese: "ä¸æ˜¯"},
            {rank: 17, word: "ë³´ë‹¤", chinese: "çœ‹"},
            {rank: 18, word: "ë“±", chinese: "ç­‰"},
            {rank: 19, word: "ë•Œ", chinese: "æ™‚å€™"},
            {rank: 20, word: "ê±°", chinese: "æ±è¥¿"},
            {rank: 21, word: "ë³´ë‹¤", chinese: "æ¯”"},
            {rank: 22, word: "ê°™ë‹¤", chinese: "ä¸€æ¨£"},
            {rank: 23, word: "ì£¼ë‹¤", chinese: "çµ¦"},
            {rank: 24, word: "ëŒ€í•˜ë‹¤", chinese: "å°æ–¼"},
            {rank: 25, word: "ê°€ë‹¤", chinese: "å»"}
            // é€™è£¡å¯ä»¥ç¹¼çºŒæ·»åŠ åˆ° 850
        ];
        
        // ===== ç”Ÿæˆä½”ä½è³‡æ–™ (26-850) =====
        function generatePlaceholderWords() {
            const placeholders = [];
            for (let i = 26; i <= 850; i++) {
                placeholders.push({
                    rank: i,
                    word: `ë‹¨ì–´${i}`,
                    chinese: `å–®å­—${i}`,
                    examples: [{
                        phrase: `ë‹¨ì–´${i}ì˜ í‘œí˜„`,
                        quote: `ì´ê²ƒì€ ë‹¨ì–´ ${i}ì˜ ì˜ˆë¬¸ì…ë‹ˆë‹¤.`,
                        meaning: "ì´ ë‹¨ì–´ëŠ” ì•„ì§ ë‚´ìš©ì´ ì¶”ê°€ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
                        chinese: "æ­¤å–®å­—å°šæœªæ·»åŠ å…§å®¹",
                        usage: [`ë‹¨ì–´${i}ë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œì…ë‹ˆë‹¤.`]
                    }]
                });
            }
            return placeholders;
        }
        
        // ===== åˆä½µæ‰€æœ‰å–®å­—è³‡æ–™ =====
        const ALL_WORDS = [
            ...COMPLETE_WORDS,
            ...BASIC_WORD_LIST.map(w => ({
                ...w,
                examples: [{
                    phrase: w.word,
                    quote: `${w.word}ë¥¼ ì‚¬ìš©í•œ ì˜ˆë¬¸ì…ë‹ˆë‹¤.`,
                    meaning: "ì¼ìƒ ëŒ€í™”ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ë‹¨ì–´ì…ë‹ˆë‹¤.",
                    chinese: w.chinese,
                    usage: [`${w.word}ë¥¼ ë¬¸ì¥ì—ì„œ ì‚¬ìš©í•´ ë³´ì„¸ìš”.`]
                }]
            })),
            ...generatePlaceholderWords()
        ];
        
        // ===== åŠŸèƒ½å‡½æ•¸ =====
        function toggleMode() {
            colorMode = !colorMode;
            const btn = document.querySelector('.mode-toggle');
            if (colorMode) {
                btn.textContent = 'æŸ¥çœ‹æ¨¡å¼ (X)';
                btn.classList.add('view-mode');
            } else {
                btn.textContent = 'æ¨™è¨˜æ¨¡å¼';
                btn.classList.remove('view-mode');
            }
        }
        
        function selectColor(color) {
            selectedColor = color;
            document.querySelectorAll('.color-option').forEach(el => el.style.borderWidth = '2px');
            document.querySelector(`.color-option.${color}`).style.borderWidth = '4px';
        }
        
        function renderWords(wordsToRender) {
            const grid = document.getElementById('wordGrid');
            grid.innerHTML = '';
            wordsToRender.forEach(item => {
                const card = document.createElement('div');
                card.className = 'word-card';
                if (wordColors[item.rank]) {
                    card.classList.add(`color-${wordColors[item.rank]}`);
                }
                card.innerHTML = `
                    <div class="word-rank">#${item.rank}</div>
                    <div class="word-main">${item.word}</div>
                    <div class="word-chinese">${item.chinese}</div>
                `;
                card.onclick = () => {
                    if (colorMode) {
                        wordColors[item.rank] = selectedColor;
                        renderWords(wordsToRender);
                    } else {
                        showDetail(item);
                    }
                };
                grid.appendChild(card);
            });
        }
        
        function speakKorean(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ko-KR';
            utterance.rate = 0.8;
            speechSynthesis.speak(utterance);
        }
        
        function showDetail(item) {
            const detail = document.getElementById('wordDetail');
            const examplesHTML = item.examples.map(ex => `
                <div class="phrase-section">
                    <h3>${ex.phrase} <button class="audio-btn" onclick="speakKorean('${ex.quote}')">ğŸ”Š ç™¼éŸ³</button></h3>
                    <div class="quote">${ex.quote}</div>
                    <div class="explanation">
                        <strong>ì˜ë¯¸ ì„¤ëª…:</strong>
                        <p>${ex.meaning}</p>
                    </div>
                    <div class="explanation">
                        <strong>ä¸­æ–‡ç¿»è­¯:</strong>
                        <p>${ex.chinese}</p>
                    </div>
                    <div class="explanation">
                        <strong>å»¶ä¼¸ç”¨æ³•:</strong>
                        <ul class="usage-list">
                            ${ex.usage.map(u => `<li>${u} <button class="audio-btn" onclick="speakKorean('${u}')" style="font-size:0.8rem; padding:0.2rem 0.5rem;">ğŸ”Š</button></li>`).join('')}
                        </ul>
                    </div>
                </div>
            `).join('');
            detail.innerHTML = `
                <h2>${item.word} <button class="audio-btn" onclick="speakKorean('${item.word}')">ğŸ”Š ç™¼éŸ³</button></h2>
                <p style="color: #72777d; margin-bottom: 1.5rem;">ìˆœìœ„: #${item.rank} | ä¸­æ–‡: ${item.chinese}</p>
                ${examplesHTML}
            `;
            document.getElementById('modal').classList.add('active');
        }
        
        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }
        
        function exportRange(start, end) {
            const rangeWords = ALL_WORDS.filter(w => w.rank >= start && w.rank <= end);
            let exportText = `éŸ“æ–‡å–®å­— ${start}-${end}\n\n`;
            rangeWords.forEach(w => {
                exportText += `#${w.rank} ${w.word} (${w.chinese})\n`;
                w.examples.forEach(ex => {
                    exportText += `  ç‰‡èª: ${ex.phrase}\n`;
                    exportText += `  ä¾‹å¥: ${ex.quote}\n`;
                    exportText += `  èªªæ˜: ${ex.meaning}\n`;
                    exportText += `  ä¸­æ–‡: ${ex.chinese}\n`;
                    exportText += `  ç”¨æ³•: ${ex.usage.join(', ')}\n\n`;
                });
            });
            
            const blob = new Blob([exportText], {type: 'text/plain;charset=utf-8'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `korean_words_${start}-${end}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }
        
        document.getElementById('modal').onclick = (e) => {
            if (e.target.id === 'modal') closeModal();
        };
        
        document.getElementById('searchInput').oninput = (e) => {
            const query = e.target.value.toLowerCase();
            const filtered = ALL_WORDS.filter(w => 
                w.word.toLowerCase().includes(query) || 
                w.chinese.toLowerCase().includes(query)
            );
            renderWords(filtered);
        };
        
        renderWords(ALL_WORDS);
        selectColor('default');
    </script>
</body>
</html>
